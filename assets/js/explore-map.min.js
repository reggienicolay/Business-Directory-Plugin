!function(){"use strict";var e=document.getElementById("bd-explore-map");if(e&&"undefined"!=typeof L){var a=document.getElementById("bd-explore-map-data");if(a){var t;try{t=JSON.parse(a.textContent)}catch(e){return}if(t&&t.length){var o=t.filter(function(e){return e.lat&&e.lng&&0!==e.lat&&0!==e.lng});if(o.length){var r=L.map("bd-explore-map",{scrollWheelZoom:!1,zoomControl:!0});L.tileLayer("https://{s}.basemaps.cartocdn.com/rastertiles/voyager/{z}/{x}/{y}{r}.png",{attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OSM</a> &copy; <a href="https://carto.com/">CARTO</a>',subdomains:"abcd",maxZoom:19}).addTo(r);var n,d=L.divIcon({className:"bd-heart-icon",html:'<div class="bd-heart-marker"><svg viewBox="0 0 24 24" fill="currentColor"><path d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"/></svg></div>',iconSize:[32,32],iconAnchor:[16,32],popupAnchor:[0,-32]}),i="function"==typeof L.markerClusterGroup;i&&(n=L.markerClusterGroup({maxClusterRadius:50,spiderfyOnMaxZoom:!0,showCoverageOnHover:!1,iconCreateFunction:function(e){var a=e.getChildCount(),t="small";a>10&&(t="medium"),a>25&&(t="large");var o="small"===t?36:"medium"===t?44:52;return L.divIcon({html:'<div class="bd-cluster bd-cluster-'+t+'"><span>'+a+"</span></div>",className:"bd-cluster-icon",iconSize:L.point(o,o)})}}));var l=L.latLngBounds();o.forEach(function(e){var a=L.latLng(e.lat,e.lng);l.extend(a);var t='<div class="bd-explore-popup">'+(e.image?'<div class="bd-explore-popup-img"><img src="'+s(e.image)+'" alt="'+s(e.title)+'" loading="lazy"></div>':"")+'<div class="bd-explore-popup-body"><strong class="bd-explore-popup-title"><a href="'+s(e.url)+'">'+s(e.title)+"</a></strong>"+(e.rating>0?'<div class="bd-explore-popup-rating">'+"â˜…".repeat(Math.round(e.rating))+" "+e.rating.toFixed(1)+"</div>":"")+(e.address?'<div class="bd-explore-popup-addr">'+s(e.address)+"</div>":"")+"</div></div>",o=L.marker(a,{icon:d}).bindPopup(t,{maxWidth:280,minWidth:200});i?n.addLayer(o):o.addTo(r)}),i&&r.addLayer(n),l.isValid()&&r.fitBounds(l,{padding:[40,40],maxZoom:15}),r.once("focus",function(){r.scrollWheelZoom.enable()})}else e.style.display="none"}else e.style.display="none"}}function s(e){var a=document.createElement("div");return a.appendChild(document.createTextNode(e||"")),a.innerHTML}}();